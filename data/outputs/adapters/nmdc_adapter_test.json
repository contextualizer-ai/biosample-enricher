{
  "demonstration_info": {
    "adapter_type": "NMDC",
    "timestamp": "2025-09-10T03:36:04.509579Z",
    "sample_count": 6,
    "description": "NMDC biosample adapter demonstration with various field formats"
  },
  "parsing_examples": [
    {
      "sample_index": 0,
      "sample_id": "nmdc:bsm-11-34xj1150",
      "database_source": "NMDC",
      "is_enrichable": true,
      "location_completeness": 1.0,
      "pydantic_valid": true,
      "extracted_data": {
        "latitude": 42.3601,
        "longitude": -71.0928,
        "collection_date": "2014-11-25",
        "textual_location": "USA: Massachusetts, Boston Harbor",
        "coordinate_precision": 4,
        "date_precision": "day"
      }
    },
    {
      "sample_index": 1,
      "sample_id": "nmdc:bsm-11-45ky2260",
      "database_source": "NMDC",
      "is_enrichable": true,
      "location_completeness": 1.0,
      "pydantic_valid": true,
      "extracted_data": {
        "latitude": 38.8895,
        "longitude": -77.0501,
        "collection_date": "2015-06-15",
        "textual_location": "USA: Washington DC, Potomac River",
        "coordinate_precision": 4,
        "date_precision": "day"
      }
    },
    {
      "sample_index": 2,
      "sample_id": "nmdc:bsm-11-56lz3370",
      "database_source": "NMDC",
      "is_enrichable": true,
      "location_completeness": 1.0,
      "pydantic_valid": true,
      "extracted_data": {
        "latitude": 37.7749,
        "longitude": -122.4194,
        "collection_date": "2016-01-01",
        "textual_location": "San Francisco Bay sediment",
        "coordinate_precision": 4,
        "date_precision": "day"
      }
    },
    {
      "sample_index": 3,
      "sample_id": "nmdc:bsm-11-67mn4480",
      "database_source": "NMDC",
      "is_enrichable": true,
      "location_completeness": 1.0,
      "pydantic_valid": true,
      "extracted_data": {
        "latitude": 40.7589,
        "longitude": -73.9851,
        "collection_date": "2017-03-01",
        "textual_location": "NYC harbor sediment core",
        "coordinate_precision": 4,
        "date_precision": "day"
      }
    },
    {
      "sample_index": 4,
      "sample_id": "nmdc:bsm-11-78op5590",
      "database_source": "NMDC",
      "is_enrichable": false,
      "location_completeness": 0.5,
      "pydantic_valid": true,
      "extracted_data": {
        "latitude": null,
        "longitude": null,
        "collection_date": "2018-12-01",
        "textual_location": "Soil sample from agricultural field",
        "coordinate_precision": null,
        "date_precision": "day"
      }
    },
    {
      "sample_index": 5,
      "sample_id": "nmdc:bsm-11-89qr6600",
      "error": "2 validation errors for BiosampleLocation\nlatitude\n  Input should be less than or equal to 90 [type=less_than_equal, input_value=999.0, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.11/v/less_than_equal\nlongitude\n  Input should be greater than or equal to -180 [type=greater_than_equal, input_value=-999.0, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.11/v/greater_than_equal",
      "is_enrichable": false,
      "pydantic_valid": false
    }
  ],
  "enrichability_analysis": {
    "total_samples": 6,
    "enrichable_samples": 4,
    "enrichable_rate": 0.6666666666666666,
    "non_enrichable_reasons": [
      {
        "sample_id": "nmdc:bsm-11-78op5590",
        "reasons": [
          "missing_latitude",
          "missing_longitude"
        ]
      },
      {
        "sample_id": "nmdc:bsm-11-89qr6600",
        "reasons": [
          "missing_latitude",
          "missing_longitude",
          "parsing_error: 2 validation errors for BiosampleLocation\nlatitude\n  Input should be less than or equal to 90 [type=less_than_equal, input_value=999.0, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.11/v/less_than_equal\nlongitude\n  Input should be greater than or equal to -180 [type=greater_than_equal, input_value=-999.0, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.11/v/greater_than_equal"
        ]
      }
    ]
  },
  "id_normalization_examples": [
    {
      "sample_id": "nmdc:bsm-11-34xj1150",
      "nmdc_biosample_id": "nmdc:bsm-11-34xj1150",
      "gold_biosample_id": "Gb0115231",
      "alternative_identifiers": [
        "507f1f77bcf86cd799439011"
      ],
      "external_database_identifiers": [
        "SAMN02728123"
      ],
      "biosample_identifiers": null,
      "sample_identifiers": null,
      "nmdc_studies": [
        "nmdc:sty-11-34xj1150"
      ],
      "original_fields": {
        "id": "nmdc:bsm-11-34xj1150",
        "_id": "507f1f77bcf86cd799439011",
        "associated_studies": [
          "nmdc:sty-11-34xj1150"
        ],
        "part_of": null
      }
    },
    {
      "sample_id": "nmdc:bsm-11-45ky2260",
      "nmdc_biosample_id": "nmdc:bsm-11-45ky2260",
      "gold_biosample_id": null,
      "alternative_identifiers": [
        "507f1f77bcf86cd799439012"
      ],
      "external_database_identifiers": [
        "SAMN03456789"
      ],
      "biosample_identifiers": null,
      "sample_identifiers": [
        "DC_river_sample_001"
      ],
      "nmdc_studies": [
        "nmdc:sty-11-45ky2260",
        "nmdc:sty-11-45ky2261"
      ],
      "original_fields": {
        "id": "nmdc:bsm-11-45ky2260",
        "_id": "507f1f77bcf86cd799439012",
        "associated_studies": null,
        "part_of": [
          "nmdc:sty-11-45ky2260",
          "nmdc:sty-11-45ky2261"
        ]
      }
    },
    {
      "sample_id": "nmdc:bsm-11-56lz3370",
      "nmdc_biosample_id": "nmdc:bsm-11-56lz3370",
      "gold_biosample_id": null,
      "alternative_identifiers": [
        "507f1f77bcf86cd799439013",
        "SF_BAY_SED_001"
      ],
      "external_database_identifiers": [
        "Gp0127456"
      ],
      "biosample_identifiers": null,
      "sample_identifiers": null,
      "nmdc_studies": null,
      "original_fields": {
        "id": "nmdc:bsm-11-56lz3370",
        "_id": "507f1f77bcf86cd799439013",
        "associated_studies": null,
        "part_of": null
      }
    },
    {
      "sample_id": "nmdc:bsm-11-67mn4480",
      "nmdc_biosample_id": "nmdc:bsm-11-67mn4480",
      "gold_biosample_id": null,
      "alternative_identifiers": [
        "507f1f77bcf86cd799439014"
      ],
      "external_database_identifiers": [
        "EBI:ERS123456"
      ],
      "biosample_identifiers": [
        "NYC_HARBOR_001"
      ],
      "sample_identifiers": null,
      "nmdc_studies": null,
      "original_fields": {
        "id": "nmdc:bsm-11-67mn4480",
        "_id": "507f1f77bcf86cd799439014",
        "associated_studies": null,
        "part_of": null
      }
    },
    {
      "sample_id": "nmdc:bsm-11-78op5590",
      "nmdc_biosample_id": "nmdc:bsm-11-78op5590",
      "gold_biosample_id": null,
      "alternative_identifiers": [
        "507f1f77bcf86cd799439015"
      ],
      "external_database_identifiers": null,
      "biosample_identifiers": null,
      "sample_identifiers": [
        "SOIL_AG_001",
        "FIELD_SAMPLE_022"
      ],
      "nmdc_studies": null,
      "original_fields": {
        "id": "nmdc:bsm-11-78op5590",
        "_id": "507f1f77bcf86cd799439015",
        "associated_studies": null,
        "part_of": null
      }
    }
  ],
  "coordinate_parsing_examples": [
    {
      "sample_id": "nmdc:bsm-11-34xj1150",
      "original_format": {
        "lat_lon": "42.3601 -71.0928",
        "latitude": null,
        "longitude": null
      },
      "parsed_coords": {
        "latitude": 42.3601,
        "longitude": -71.0928,
        "precision": 4
      },
      "parsing_method": "string_lat_lon"
    },
    {
      "sample_id": "nmdc:bsm-11-45ky2260",
      "original_format": {
        "lat_lon": {
          "latitude": 38.8895,
          "longitude": -77.0501
        },
        "latitude": null,
        "longitude": null
      },
      "parsed_coords": {
        "latitude": 38.8895,
        "longitude": -77.0501,
        "precision": 4
      },
      "parsing_method": "dict_lat_lon"
    },
    {
      "sample_id": "nmdc:bsm-11-56lz3370",
      "original_format": {
        "lat_lon": [
          37.7749,
          -122.4194
        ],
        "latitude": null,
        "longitude": null
      },
      "parsed_coords": {
        "latitude": 37.7749,
        "longitude": -122.4194,
        "precision": 4
      },
      "parsing_method": "array_lat_lon"
    },
    {
      "sample_id": "nmdc:bsm-11-67mn4480",
      "original_format": {
        "lat_lon": null,
        "latitude": 40.7589,
        "longitude": -73.9851
      },
      "parsed_coords": {
        "latitude": 40.7589,
        "longitude": -73.9851,
        "precision": 4
      },
      "parsing_method": "separate_lat_lon_fields"
    },
    {
      "sample_id": "nmdc:bsm-11-78op5590",
      "original_format": {
        "lat_lon": null,
        "latitude": null,
        "longitude": null
      },
      "parsed_coords": {
        "latitude": null,
        "longitude": null,
        "precision": null
      },
      "parsing_method": "no_coordinates"
    }
  ],
  "date_parsing_examples": [
    {
      "sample_id": "nmdc:bsm-11-34xj1150",
      "original_format": {
        "has_raw_value": "2014-11-25",
        "type": "nmdc:TimestampValue"
      },
      "parsed_date": "2014-11-25",
      "date_precision": "day",
      "parsing_method": "nmdc_structured_date"
    },
    {
      "sample_id": "nmdc:bsm-11-45ky2260",
      "original_format": "2015-06-15T14:30:00Z",
      "parsed_date": "2015-06-15",
      "date_precision": "day",
      "parsing_method": "iso_datetime_string"
    },
    {
      "sample_id": "nmdc:bsm-11-56lz3370",
      "original_format": "2016",
      "parsed_date": "2016-01-01",
      "date_precision": "day",
      "parsing_method": "date_string_yyyy"
    },
    {
      "sample_id": "nmdc:bsm-11-67mn4480",
      "original_format": {
        "has_raw_value": "2017-03",
        "type": "nmdc:TimestampValue"
      },
      "parsed_date": "2017-03-01",
      "date_precision": "day",
      "parsing_method": "nmdc_structured_date"
    },
    {
      "sample_id": "nmdc:bsm-11-78op5590",
      "original_format": "2018-12-01",
      "parsed_date": "2018-12-01",
      "date_precision": "day",
      "parsing_method": "date_string_yyyy_mm_dd"
    }
  ],
  "location_text_examples": [
    {
      "sample_id": "nmdc:bsm-11-34xj1150",
      "available_fields": {
        "geo_loc_name": {
          "has_raw_value": "USA: Massachusetts, Boston Harbor",
          "type": "nmdc:TextValue"
        }
      },
      "extracted_text": "USA: Massachusetts, Boston Harbor",
      "extraction_source": "geo_loc_name_structured"
    },
    {
      "sample_id": "nmdc:bsm-11-45ky2260",
      "available_fields": {
        "geographic_location": "USA: Washington DC, Potomac River"
      },
      "extracted_text": "USA: Washington DC, Potomac River",
      "extraction_source": "geographic_location"
    },
    {
      "sample_id": "nmdc:bsm-11-56lz3370",
      "available_fields": {
        "sample_collection_site": "San Francisco Bay sediment"
      },
      "extracted_text": "San Francisco Bay sediment",
      "extraction_source": "sample_collection_site"
    },
    {
      "sample_id": "nmdc:bsm-11-67mn4480",
      "available_fields": {
        "description": {
          "has_raw_value": "NYC harbor sediment core",
          "type": "nmdc:TextValue"
        }
      },
      "extracted_text": "NYC harbor sediment core",
      "extraction_source": "description_structured"
    },
    {
      "sample_id": "nmdc:bsm-11-78op5590",
      "available_fields": {
        "location": "Soil sample from agricultural field"
      },
      "extracted_text": "Soil sample from agricultural field",
      "extraction_source": "location"
    }
  ],
  "validation_results": {
    "valid_models": 5,
    "invalid_models": 1,
    "validation_errors": [
      {
        "sample_id": "nmdc:bsm-11-89qr6600",
        "error": "2 validation errors for BiosampleLocation\nlatitude\n  Input should be less than or equal to 90 [type=less_than_equal, input_value=999.0, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.11/v/less_than_equal\nlongitude\n  Input should be greater than or equal to -180 [type=greater_than_equal, input_value=-999.0, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.11/v/greater_than_equal"
      }
    ]
  }
}